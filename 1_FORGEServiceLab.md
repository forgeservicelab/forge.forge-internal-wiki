FORGE Service Lab
==========================================================


Project lifecycle
==========================================================

### Affiliate project lifecycle use case diagram

![](/files/project_execution.png)

### Sales and contracting

DIGILE SBD team works on business development, sales and contracting.
After the contract is in place, the project initiation gets triggered.
The contacts should be created into FORGE CRM tool at this stage.

### Project initiation

Project initiation means steps to be taken to create user accounts and
CRA after the contract is signed and verified. Affiliates usage of FORGE
resources will be enabled at this stage.

The concreted steps for the project initiation all the way to the
creation is described the [Resouce allocation
process](3_OperationalGuides.md#resource-allocation-process)

### Project execution

Affiliates will be able to utilize FORGE resources at this stage
including computing resources, documents, tools and support.

### Project end of life

The contract has an expiry date which should be followed up and reacted
upon. Project closing can be initiated similarly to project creation and
that triggers then tasks to disable user accounts access to FORGE
resources and tools and free up computing resources.

Service Development Pipeline
===========================================================================================

About
---------------------------------------------

The purpose of this system is to provide:

-   Shared view of Service business development and Platform team
    service development requirements and implementation plans on
    high level.
-   Means to cooperatively build our service towards DIGILE service
    vision

The goal is to utilize our limited resources so that customer value
creation is maximized

### Key Operating Principles

-   *Keep it lean:* i.e. meaningful, adaptive, transparent and open
-   *Keep it light:* before adding new elements think carefully whether
    generated value justifies generated additional work
-   *Keep it agile:* there are regular meetings but things can progress
    also outside meetings

Service Development Pipeline Activities
-----------------------------------------------------------------------------------------------------------------

![Pipeline\_Activities](/files/page-3.jpg)

Evaluation Criteria
-------------------------------------------------------------------------

### Selection Criteria

-   Alignment with service vision
-   Value (customer, operational, saving potential, emotional,…)
-   Cost of implementation

### Sorting Criteria

-   Cost of delay
-   Resource and competence availability
-   Risk (may want to start early but small in order to learn)
-   Dependencies (3rd parties, technology,..)
-   ”Low hanging fruit”

Meetings and forums
-------------------------------------------------------------------------

### Long list of requirements (decision point \#1)

-   **Purpose:** working forum, clarify inputted requirements, evaluate,
    debate
-   **Participants:** open for all team members and those who have
    inputted items
-   **Schedule:** time-boxed, 2 hours bi-weekly

### Entering backlog (decision point \#2)

-   **Purpose:** be informed and arrange items taken to master backlog
-   **Participants:** few people only, representation from both SBD and
    Platform
-   **Schedule:** target ”inform primarily, meet if need to” –basis

### Planning synchronization

-   **Purpose:** synchronize longer term planning (release, roughly 2
    months), so that we ensure availability of required competences and
    meaningful development order of items
-   **Participants:** few people only, representation from both SBD and
    Platform
-   **Schedule:** At release target setting, on need basis

Stakeholder and Community Dialog
=======================================================================================

The stakeholder and community dialog refers to all activities involving

-   FORGE Affiliates, i.e. parties that have made a contract with
    DIGILE Ltd. for the use of FORGE service lab,
-   the executive management and the board of directors of DIGILE,
-   the financial steering board of FORGE Service Lab project (by the
    Ministry of Transport and Communications), and
-   the general public.

Different communication channels are employed when dealing with
different communities and stakeholders. The selected communication
channels are:

-   **FORGE Affiliates:** FORGE Service Lab internal Wiki, FORGE Service
    Lab internal IM services, mailing lists.
-   **The executive management and the board of directors of DIGILE:**
    Reports in a format defined by the corporate governance rules of
    DIGILE Ltd.
-   **The financial steering board of FORGE Service Lab project:**
    Reports in a format defined by the financial steering board of FORGE
    Service Lab (founded and leaded by the Ministry of Transport
    and Communucations)
-   **The general public:** The following social media channels are
    employed in the communication with all parties interested to follow
    the development and operations of FORGE Service Lab:
    -   WWW: <http://www.forgeservicelab.fi>
    -   Twitter: [@ForgeFriends](https://twitter.com/ForgeFriends)
    -   Facebook: <https://www.facebook.com/forgeservicelab>,
        [Facebook-group](https://www.facebook.com/groups/220255501474774)

Besides the regular channels and mechanisms mentioned above, ad-hoc
meetings and workshops are arraged to address the more specific needs of
various stakeholders.

Contract lifecycle
=============================================================

Actors (WORK IN PROGRESS)
-------------------------------------------------------------------------

-   **Case owner:** is a DIGILE employee who is the key contact towards
    the customer organizations in the context of the service development
    project in preparation.
-   **DIGILE Legal:** is the person who verfies the contracts frrom the
    legal and DIGILE level risk mangement perspective.
-   **FORGE Director:** is the person who is responsible for the
    production and development operations of FORGE Service Lab.
-   **Customer:** a legal entity that wants to become FORGE Service
    developer by making the FORGE Service developer agreement
    with DIGILE.

Contract creation and verification (WORK IN PROGRESS)
---------------------------------------------------------------------------------------------------------------------------------

1.  The case owner assists all involved customers to fill FORGE Service
    Development agreement and FORGE Partner Agreement. The latest
    PDF-versions of these documents as well as the FORGE Service Lab
    Terms and Conditions can be found from
    (URL REMOVED). The corressponding
    editable versions of these documents (internal versions) can be
    found from
    (URL REMOVED).

2.  All customers sign the FORGE Service Development agreement and FORGE
    Partner Agreement. One of the customers scans the signed documents
    and sends them in PDF-format to e-mail address
    <forge-contracts@digile.fi>.

3.  FORGE Director and DIGILE Legal receive the signed contracts sent in
    step 2. FORGE Director sends a reply message using
    (URL REMOVED)
    Google Groups-service that is associated with the e-mail address
    <forge-contracts@digile.fi>. A canned message "SDA message 1" must
    be used for this purpose and the originator of the message must be
    "FORGE Contracts mailing list", NOT the real sender.

4.  FORGE Director verifies that:

    1.  The names and business IDs of each customer is included in FORGE
        Service Development agreement and FORGE Partner Agreement.
    2.  The description of the service to be developed has been added to
        the FORGE Service Development agreement. The description of the
        service consists of the short title/the name of the service and
        the free form description of the service. This description is
        the only mandatorily public statement about the service to
        be developed. DIGILE will publish the description of the
        developed service in the public web pages of FORGE Service Lab,
        i.e., in (URL REMOVED)
    3.  The contact information of administrative contacts, one contact
        for each customer, has been added to FORGE Service
        Development agreement.
    4.  The contact information of administrative contact, only one
        contact for the whole service development project, has been
        added to FORGE Service Development agreement.
    5.  The names of the subcontractors that the customers aim to employ
        in the development work have been added to FORGE Service
        Development agreement.
    6.  The overall value of the service development project, the cost
        of the service development project to be invoiced from the
        service developers and the payment terms have been added to
        FORGE Service Development agreement.
    7.  The duration of the contract has been defined in FORGE Service
        Development agreement.
    8.  The contact information of administrative contacts for further
        correspondence have been added to FORGE Service
        Development agreement.
    9.  Each customer has signed FORGE Service Development agreement.
    10. The description of the partner offering has been described in
        the FORGE Partner Agreement.
    11. The cost, payment terms and the duration of the contract are
        defined in the FORGE Partner Agreement.
    12. The contact information of the administrative contacts for
        further correspondence have been added to the FORGE
        Partner Agreement.
    13. Each customer has signed the FORGE Partner Agreement.

5.  DIGILE Legal verfies that:

    1.  The Business IDs and the names of the legal entitities written
        to FORGE Service Development agreement and FORGE Partner
        Agreement correspond the information that is availabe in the
        [Finnish Business Information
        System](https://www.ytj.fi/english/)

6.  DIGILE Legal informs FORGE Director that the customers have
    adequately signed the FORGE Service Development Agreement and FORGE
    Partner Agreement.

7.  DIGILE Legal obtains the signature of DIGILE CEO to the FORGE
    Service Development Agreement and the FORGE Partner Agreement, one
    copy for each customer.

8.  DIGILE Legal scans the mutually signed contracts and stores the
    scanned documents in PDF-format to **Where to store the scanned docs
    ?**

9.  DIGILE Legal sends a mutually signed FORGE Service Development
    Agreements and the FORGE Partner Agreements to the customers who are
    now treated as FORGE Service developers and FORGE Partners.

10. FORGE Director initiates, concurrently with the steps 7.-9., the
    provisioning of the resources for the new service development
    project by:

    1.  Sending a reply message using
        (URL REMOVED)
        Google Groups-service that is associated with the e-mail address
        <forge-contracts@digile.fi>. A canned message "SDA message 2"
        must be used for this purpose and the originator of the message
        must be "FORGE Contracts mailing list", NOT the real sender.
    2.  Initiating the actual provisioning process by following
        [these](3_OperationalGuides.md#initiation-by-digile-or-by-an-affiliate-technical-contact) instructions.

11. After receiving confirmation from the FORGE Support that the
    resources of the new service development project have been
    provisioned, FORGE Director sends a reply message using
    (URL REMOVED)
    Google Groups-service that is associated with the e-mail address
    <forge-contracts@digile.fi>. A canned message "SDA message 3" must
    be used for this purpose and the originator of the message must be
    "FORGE Contracts mailing list", NOT the real sender.

Contract renewal sequence diagram
-------------------------------------------------------------------------------------------

Contract renewal is the process of following up the contract(s) expiry
dates and taking the contract renewal actions or initiation of project
termination in case of non renewal. The sequence of actions are
triggered by DIGILE Legal at the right time.

![](/files/contract_renewal.png)

Project lifecycle use case diagram
---------------------------------------------------------------------------------------------

Project lifecycle use case diagram illustrates the stakeholders'
activities in the lifecycle of a project including contract creation,
project creation, contract expiration and project termination.

![](/files/project_execution.png)

FORGE Service Lab mission and strategy
=============================================================================================================

Mission
-----------------------------------------------

Help organizations to design and develop scalable digital services in
collaboration with each others by offering tools, documentation,
examples and reference processes.

Target
---------------------------------------------

To make it easy and cost effective for large set of organizations to
learn service development from idea to scalable implementation, from
design to deployment, monitoring and analysis.

Vision
---------------------------------------------

-   Cloud service for service development activities
-   Service design
-   Help by support functions and community with collaboration
-   Reference process and tools for organizations

Strategy
-------------------------------------------------

-   State of the art technologies
-   Open source technologies and open source licences
-   Production quality
-   Aim at supporting following Linux distributions (Debian,
    Ubuntu, CentOS)

Tactics
-----------------------------------------------

-   No need to have playbooks to support all distributions from the
    beginning but just a selected one.
-   Have the playbook for the distribution that suits best for the
    particular use case. The support for other distributions can be
    build later if needed.


Internal trainings - Rails training summary
=========================================================================

We had a Rails training on 14.05.2014. I put here summary of my notes.
Please extend it and put your before we forget.

Debugging
-----------------------------------------------

The pry gem can invoke a console:\
 <https://coderwall.com/p/dsboaw> For this you must start your rails app
with "rails s"

Allegedly it's also possible to bind to an application in passenger
running in passenger:\
 <https://coderwall.com/p/dsboaw>

Reporting Exceptions
---------------------------------------------------------------------

Exception notification gem:\
 <https://github.com/smartinez87/exception_notification>

12 Factor App
-------------------------------------------------------

A manifesto about web app development and operations, written by
Heroku:\
 <http://12factor.net/>

Capistrano
-------------------------------------------------

Smart deployment for rails apps. There must be scenarios for CAS,
Redmine, GitLab. Let's check them!

Bundler
-------------------------------------------

Rails need it. It makes sure that environment is the same everywehre.
People should check in their Gemfile.lock in version control.

`bundle exec`: does 'require *gem*', for each *gem* in Gemfile.lock; and
then runs ruby script. "rails" command\
 `bundle install`: creates graph of dependencies of gems listed in
Gemfile. Creates Gemfile.lock. Install gems system-wide\
 `bundle install --deployment`: takes Gemfile.lock and installs gems (by
default) in ./vendor\
 `bundle update _gem_`: Dangerous. It will take a *gem* and update it
and it's dependencies.

To restart before next request:\
 `cd /var/www/redmine/redmine-2.2.4/tmp; sudo touch restart.txt`

Passenger
-----------------------------------------------

Is OK for production. We should take a look on parameters and optimize
it:\
 -
<http://blog.phusion.nl/2013/03/12/tuning-phusion-passengers-concurrency-settings/>
&lt;--- NEWEST\
 -
<http://www.alfajango.com/blog/performance-tuning-for-phusion-passenger-an-introduction/>

Optimization
-----------------------------------------------------

rack perftools profiler:\
 <https://github.com/bhb/rack-perftools_profiler>

Terms and Definitions
======================================================================

FORGE contracts are publicly available in Google Drive

<https://drive.google.com/drive/u/1/#folders/0B6fRFMMoK5OTSXkyNWN5NTFJRFE>
